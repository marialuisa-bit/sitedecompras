create table usuario (
    idusuario integer not null primary key,
    senha varchar(40) not null,
    nome varchar(60) not null,
    cidade varchar(30) null,
    bairro varchar(30) null,
    rua varchar(30) null,
    numero varchar(4) null,
    complemento varchar(15) null,
    telefone varchar(11) not null,
    email varchar(30) not null,
    agencia char(20) null,
    conta varchar(20) null,
    codbanco varchar(20) null
);

create table vendedor (
    idusuario integer not null primary key,
    tipoconta varchar(20) not null,
    cnpj varchar(14) not null,
    foreign key(idusuario) references usuario(idusuario)
);

create table cliente (
    idusuario integer not null primary key,
    datanasc date not null,
    cpf varchar(11) not null,
    foreign key(idusuario) references usuario(idusuario)
);

create table produto (
    idproduto integer not null primary key,
    imagem varchar(100) not null,
    nome varchar(30) not null,
    qntestoque integer not null,
    descricao varchar(120),
    preco float(6,2) not null,
    idusuario integer not null,
    foreign key(idusuario) references vendedor(idusuario)
);

create table carrinho (
    idusuario integer not null,
    idproduto integer not null,
    qntproduto integer not null,
    primary key(idusuario, idproduto),
    foreign key(idusuario) references cliente(idusuario),
    foreign key(idproduto) references produto(idproduto)
);

create table vendas (
    idvenda integer not null primary key,
    comprador integer not null,
    prod integer not null,
    quatidade integer not null,
    foreign key(comprador) references cliente(idusuario),
    foreign key(prod) references produto(idproduto)
);
